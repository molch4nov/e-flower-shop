# Миграции базы данных

В проекте используются миграции для настройки структуры базы данных и ролей пользователей.

## Основные миграции

### 1. Миграция пользователей и аутентификации

Эта миграция создает таблицы `users`, `sessions`, `user_holidays`, `user_addresses`, `cart_items`, `orders` и `order_items`.

Для запуска миграции выполните:

```bash
npm run migrate
```

### 2. Миграция администратора

Эта миграция добавляет систему ролей и создает пользователя с правами администратора.

Данные для входа администратора:
- Логин: admin
- Пароль: abacaba

Для запуска миграции выполните:

```bash
npm run migrate:admin
```

## Запуск всех миграций

Для полной инициализации базы данных рекомендуется выполнять миграции в следующем порядке:

```bash
# 1. Миграция пользователей и аутентификации
npm run migrate

# 2. Миграция администратора
npm run migrate:admin
```

## Проверка успешности миграции

После завершения миграций вы должны увидеть сообщения:
- "Миграция успешно применена" для миграции пользователей
- "Admin migration successfully applied" для миграции администратора

Если произошла ошибка, проверьте следующее:
1. Подключение к базе данных
2. Наличие прав на создание таблиц
3. Правильность настроек окружения (.env файл)

## Административная панель

После успешной миграции вы можете войти в административную панель по адресу:
```
http://localhost:3000/admin
```

Используйте следующие учетные данные:
- Логин: admin
- Пароль: abacaba