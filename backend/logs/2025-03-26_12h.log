{"level":30,"time":"2025-03-26T09:24:53.113Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:28:31.821Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":30,"time":"2025-03-26T09:29:01.297Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:29:03.126Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":30,"time":"2025-03-26T09:29:15.759Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:29:18.424Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:29:21.672Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:29:24.390Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:29:36.091Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:29:53.289Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:30:21.156Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:30:23.514Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:30:25.077Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:30:29.691Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":30,"time":"2025-03-26T09:31:20.017Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:31:20.812Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:31:22.130Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:31:25.640Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":30,"time":"2025-03-26T09:33:21.923Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:33:22.899Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:33:32.951Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:36:41.632Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":30,"time":"2025-03-26T09:36:56.159Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:36:58.223Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:36:59.245Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:37:01.678Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":30,"time":"2025-03-26T09:37:08.947Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:37:10.186Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:37:11.945Z","module":"auth-controller","err":{"type":"TypeError","message":"Cannot read properties of null (reading 'id')","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at exports.login (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/controllers/auth.js:73:15)"},"msg":"Ошибка при входе пользователя"}
{"level":50,"time":"2025-03-26T09:44:02.573Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:357:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["2a027b97-b20d-4cf4-b33f-74ef40026cf5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:44:02.574Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:357:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:44:16.364Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:357:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["2a027b97-b20d-4cf4-b33f-74ef40026cf5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:44:16.365Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:357:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:44:34.488Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:44:37.669Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:45:12.575Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:45:13.736Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:47:15.196Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["0dabecd6-17d6-448b-a7b8-9cde865800bd","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:47:15.197Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:47:48.462Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["0dabecd6-17d6-448b-a7b8-9cde865800bd","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:47:48.462Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:47:58.467Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["0dabecd6-17d6-448b-a7b8-9cde865800bd","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:47:58.467Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:48:02.334Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["0dabecd6-17d6-448b-a7b8-9cde865800bd","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:48:02.335Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:49:18.747Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["4bc78752-d36d-4057-9118-ec07cb41909d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:49:18.747Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:49:45.003Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["4bc78752-d36d-4057-9118-ec07cb41909d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:49:45.003Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:50:07.094Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:51:05.254Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["4bc78752-d36d-4057-9118-ec07cb41909d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:51:05.254Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:51:05.452Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["4bc78752-d36d-4057-9118-ec07cb41909d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:51:05.453Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:51:05.680Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["4bc78752-d36d-4057-9118-ec07cb41909d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:51:05.681Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:51:05.723Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["4bc78752-d36d-4057-9118-ec07cb41909d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:51:05.723Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:51:18.055Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:51:18.056Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:51:38.889Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:51:44.229Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:51:45.466Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:51:47.024Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:51:48.897Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:51:55.251Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:52:00.220Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:52:01.485Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:52:01.486Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:52:03.565Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:52:03.566Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:52:05.744Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:52:06.982Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:52:06.983Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:52:45.552Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:52:45.553Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:53:35.208Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:53:47.578Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:53:47.579Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:53:55.416Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:02.670Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:23.741Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:54:24.238Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:54:24.238Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:54:27.247Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:54:27.248Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T09:54:43.841Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:46.532Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:49.005Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:50.096Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:52.214Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:56.682Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:57.709Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:54:59.292Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:55:00.465Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:55:01.769Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:55:02.886Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:55:06.754Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:55:19.370Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:55:29.852Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["ab1df659-c2c2-4bc2-86e8-44b5ff9df9e1","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:55:29.853Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:55:39.034Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:55:39.035Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:55:39.393Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:55:39.393Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T09:56:39.379Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:56:41.152Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:59:35.954Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T09:59:46.315Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T09:59:46.675Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:59:46.676Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:59:47.088Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:59:47.089Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:59:50.602Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:59:50.603Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T09:59:51.085Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T09:59:51.086Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:00:14.185Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["82172b6c-5060-4c21-bbc7-5cc2266ac800","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:00:14.186Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:02:32.994Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1806d250-5101-46b3-b43a-fa64138347b0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:02:32.995Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:03:27.100Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:03:29.108Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:03:35.006Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:03:36.835Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:03:37.637Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:03:41.875Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:03:46.989Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["3b60b9ac-7410-429b-b993-c34f1bbcb610","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:03:46.990Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:04:00.234Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c04666b6-cac2-416b-9d3d-1daed8e821da","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:04:00.235Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:04:12.002Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:04:15.670Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:04:17.709Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e120025b-ae2a-400f-9777-fc2f61c0b9dd","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:04:17.710Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:04:46.761Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:05:36.473Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:05:36.629Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["0314c2ba-bce7-42e5-b661-a2727722ecb7","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:05:36.630Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:06:43.784Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:06:46.285Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:06:53.981Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:06:55.551Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:06:58.300Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:07:04.417Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:07:05.620Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:07:09.672Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:07:09.673Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:07:27.485Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:07:28.792Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:07:32.341Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:07:32.342Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:07:59.308Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:08:05.966Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:08:15.123Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:08:16.140Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:08:55.806Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:08:56.246Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:08:56.247Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:09:08.372Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:09:08.373Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:09:08.777Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:09:08.778Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:09:16.860Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:09:16.861Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:10:12.329Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:10:19.221Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:19.222Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:10:19.629Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:19.629Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:10:19.631Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d044f0da-6c6f-4834-b048-cd578ac672ff","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:19.631Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:10:19.988Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d044f0da-6c6f-4834-b048-cd578ac672ff","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:19.988Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:10:20.402Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d044f0da-6c6f-4834-b048-cd578ac672ff","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:20.403Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:10:20.766Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d044f0da-6c6f-4834-b048-cd578ac672ff","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:20.767Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:10:43.052Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:10:43.053Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:12:36.539Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:12:36.540Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:12:36.847Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["6ac68694-8e78-4365-8ffe-9461d817202d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:12:36.847Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:12:37.101Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["6ac68694-8e78-4365-8ffe-9461d817202d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:12:37.102Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:12:37.372Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["6ac68694-8e78-4365-8ffe-9461d817202d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:12:37.373Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:12:37.626Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["6ac68694-8e78-4365-8ffe-9461d817202d","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:12:37.626Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:12:39.598Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:12:39.598Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:13:08.262Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:13:12.474Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:13:16.369Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:13:16.370Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:13:25.106Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:13:26.717Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:13:26.718Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:13:33.140Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:14:30.305Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:30.305Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:30.577Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:30.577Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:30.822Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:30.822Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:31.110Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:31.110Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:32.133Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:32.133Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:32.487Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:32.487Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:32.734Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:32.734Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:33.018Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:33.018Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:33.312Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:33.313Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:33.315Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:33.315Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:33.601Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:33.601Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:33.865Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:33.865Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:34.180Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:34.180Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:34.443Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:34.443Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:34.707Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:34.707Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:36.038Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:36.039Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:36.674Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:36.674Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:37.008Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:37.008Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:37.010Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:37.010Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:37.295Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:37.295Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:37.647Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:37.648Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:37.935Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["cf5e9096-04b9-44ac-9c18-21b546ca48c0","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:37.936Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:42.184Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["d35bb4c3-0290-4604-895d-738e8c03a1a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:42.184Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:56.011Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:56.011Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:56.277Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:56.278Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:56.334Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:56.335Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:56.588Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:56.588Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:14:56.862Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:56.862Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:14:57.145Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:14:57.145Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:15:02.109Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fe36939f-d44a-405a-aff5-d1f45db94532","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:15:02.109Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:15:30.255Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["fde0e116-d5c9-490c-b9f3-9de701ed4fc4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:15:30.255Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:15:59.781Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:15:59.782Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:16:00.240Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:00.240Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:16:00.564Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:00.564Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:16:00.947Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:00.948Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:16:01.439Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:01.439Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:16:23.582Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:16:31.462Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:31.463Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:16:31.643Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["29448395-4f90-4e5e-a0e5-5f684c88c5c5","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:31.643Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:16:38.491Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:16:40.212Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["45ac2d57-9e92-4ca0-88be-19309c5c7e8c","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:16:40.213Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:17:45.843Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:19:39.129Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:19:40.692Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["3626b1b5-68e6-491f-b41a-49b7b62aba3e","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:19:40.693Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:27:59.761Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:28:07.989Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:28:18.252Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:18.252Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:18.536Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:18.536Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:18.792Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:18.792Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:28:19.089Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:19.089Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:19.344Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:19.344Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:28:29.271Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:29.271Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:29.516Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:29.516Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:29.567Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:29.568Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:29.844Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:29.845Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:28:30.099Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:30.099Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:28:30.375Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:28:30.376Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:28:37.211Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:28:48.579Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:29:12.405Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:29:27.872Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:29:29.577Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1d152244-8d7d-46f8-91fd-41a2dd76d986","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:29:29.578Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:29:39.208Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:30:53.006Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:53.007Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:30:53.326Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:53.327Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:30:53.651Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:53.651Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:30:53.726Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:53.726Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:30:54.008Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:54.009Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:30:54.066Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:54.067Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:30:54.444Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:54.444Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:30:54.811Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:30:54.811Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:31:03.903Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["1b6412d2-ecae-4792-9770-d2c6853dcfe6","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:03.904Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:31:21.330Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:21.331Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:31:21.340Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:21.341Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:31:21.584Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:21.584Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:31:21.657Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:21.658Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:31:21.993Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:21.993Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:31:22.379Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:22.379Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:31:23.597Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["f19033a8-6331-497e-87e3-343653995af9","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:31:23.598Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:45.031Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["68ab2e40-3fe3-45d1-a65c-69ac1195a028","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:45.031Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:45.302Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["68ab2e40-3fe3-45d1-a65c-69ac1195a028","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:45.302Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:34:47.040Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["68ab2e40-3fe3-45d1-a65c-69ac1195a028","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:47.040Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:53.424Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:53.424Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:53.749Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:53.749Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:53.940Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:53.940Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:54.111Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:54.111Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:54.280Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:54.280Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:33:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":50,"time":"2025-03-26T10:34:54.578Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:54.578Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":50,"time":"2025-03-26T10:34:54.952Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:54.952Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:34:56.467Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":50,"time":"2025-03-26T10:34:57.666Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["c6ae207e-506f-4b43-b314-6f5307c0d0a4","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:34:57.667Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:67:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:35:23.912Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:36:05.273Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:36:06.140Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:36:32.809Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:36:42.023Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:37:07.956Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:37:09.933Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:10.073Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:10.074Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:10.075Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:37:10.484Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:10.599Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:10.599Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:37:10.860Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:10.975Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:10.976Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:11.348Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:11.470Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:11.471Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:15.855Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:15.955Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:15.956Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:15.957Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:37:16.233Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:16.354Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:16.355Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:37:16.595Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:16.853Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:16.853Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:16.854Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:37:17.771Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:17.930Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:17.930Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:37:24.573Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:24.742Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:24.743Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:29.199Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:29.298Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:29.299Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:29.588Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:29.683Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:29.683Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:30.859Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:30.987Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:30.988Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:31.088Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:31.188Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:31.188Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:31.299Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:31.446Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:31.447Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:31.587Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:31.681Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:31.682Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:32.524Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:33.559Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:33.559Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:33.920Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:34.008Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:34.009Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:39.877Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:39.985Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:39.985Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:39.985Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:37:40.319Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:40.558Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:40.558Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:37:40.877Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:40.999Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:40.999Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:41.000Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:37:41.265Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:41.398Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:41.398Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:37:43.125Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:43.326Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:43.326Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:43.326Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:37:43.612Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:43.767Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:43.767Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:37:46.380Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:46.519Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:46.519Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:37:47.399Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:37:47.489Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:37:47.490Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:38:12.924Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:38:40.212Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:38:42.204Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:38:43.507Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:39:13.140Z","module":"database","msg":"Подключение к PostgreSQL успешно установлено"}
{"level":30,"time":"2025-03-26T10:39:16.879Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:16.990Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:16.991Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:16.991Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:39:17.196Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:17.302Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:17.303Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:39:17.548Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:17.645Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:17.645Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:17.646Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:39:17.868Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:17.972Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:17.973Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:39:26.672Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:26.766Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:26.766Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:26.767Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:39:26.998Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:27.084Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:27.085Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:39:27.340Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:27.450Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:27.451Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:27.451Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:39:27.670Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:27.765Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:27.766Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:39:48.108Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:48.197Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:48.197Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:48.197Z","module":"auth-middleware","msg":"Получен sessionId: e029dec5-8b7d-4f0a-851f-1edc1a29de08"}
{"level":30,"time":"2025-03-26T10:39:48.383Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:48.478Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:48.478Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:39:55.462Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:55.565Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["e029dec5-8b7d-4f0a-851f-1edc1a29de08","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:55.566Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:56.569Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:56.651Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["a2116200-d74c-469a-b512-6a27207a78e3","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:56.651Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:39:56.652Z","module":"auth-middleware","msg":"Получен sessionId: a2116200-d74c-469a-b512-6a27207a78e3"}
{"level":30,"time":"2025-03-26T10:39:56.841Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:39:56.925Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["a2116200-d74c-469a-b512-6a27207a78e3","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:39:56.925Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:40:08.863Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:40:08.954Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["a2116200-d74c-469a-b512-6a27207a78e3","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:40:08.956Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:40:08.956Z","module":"auth-middleware","msg":"Получен sessionId: a2116200-d74c-469a-b512-6a27207a78e3"}
{"level":30,"time":"2025-03-26T10:40:09.139Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:40:09.225Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["a2116200-d74c-469a-b512-6a27207a78e3","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:40:09.226Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:40:12.419Z","module":"auth-middleware","msg":"Опционально аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:40:12.514Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["a2116200-d74c-469a-b512-6a27207a78e3","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:40:12.514Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async optionalAuthUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:86:9)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при опциональной аутентификации"}
{"level":30,"time":"2025-03-26T10:40:12.514Z","module":"auth-middleware","msg":"Получен sessionId: a2116200-d74c-469a-b512-6a27207a78e3"}
{"level":30,"time":"2025-03-26T10:40:12.809Z","module":"auth-middleware","msg":"Аутентифицирован пользователь: 27c886a9-4a3e-499a-9036-5e56889855a0"}
{"level":50,"time":"2025-03-26T10:40:12.966Z","module":"database","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"query":"\n      INSERT INTO active_users (session_id, user_id, ip_address, user_agent, last_activity)\n      VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)\n      ON CONFLICT (session_id) DO UPDATE\n      SET last_activity = CURRENT_TIMESTAMP\n      RETURNING id, session_id, user_id, last_activity;\n    ","params":["a2116200-d74c-469a-b512-6a27207a78e3","27c886a9-4a3e-499a-9036-5e56889855a0","::1","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36"],"msg":"Ошибка выполнения запроса"}
{"level":50,"time":"2025-03-26T10:40:12.966Z","module":"auth-middleware","err":{"type":"DatabaseError","message":"there is no unique or exclusion constraint matching the ON CONFLICT specification","stack":"error: there is no unique or exclusion constraint matching the ON CONFLICT specification\n    at /Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.query (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/config/db.js:36:17)\n    at async User.trackUserActivity (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/models/user.js:355:22)\n    at async authenticateUser (/Users/vladislavmolcanov/Documents/GitHub/e-flower-shop/backend/middleware/auth.js:47:5)","length":148,"name":"error","severity":"ERROR","code":"42P10","file":"plancat.c","line":"915","routine":"infer_arbiter_indexes"},"msg":"Ошибка при аутентификации пользователя"}
{"level":30,"time":"2025-03-26T10:40:16.663Z","module":"database","msg":"Закрытие соединений с PostgreSQL..."}
{"level":30,"time":"2025-03-26T10:40:16.664Z","module":"database","msg":"Соединения с PostgreSQL закрыты"}
